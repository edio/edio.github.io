<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><title>Listen tracks from youtube in mpd | 127.0.0.1</title><meta name="viewport" content="width=device-width,user-scalable=yes,maximum-scale=1.5,initial-scale=1"><link rel="canonical" href="http://127001.me/post/youtube-in-mpd/"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon144.png"><link rel="shortcut icon" href="/favicon.png"><link rel="stylesheet" href="/css/asciidoctor.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/hljs/atelier-heath-light.css"><link rel="stylesheet" href="/css/theme.css"><link href="http://127001.me/index.xml" rel="alternate" type="application/rss+xml" title="127.0.0.1"><link href="http://127001.me/index.xml" rel="feed" type="application/rss+xml" title="127.0.0.1"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-82090130-1', 'auto');
    ga('send', 'pageview');</script></head><div class="container"><header role="banner"><div class="title-block"><span class="title-span"><a class="title" href="http://127001.me/"><span class="user">me</span>@<span class="host">127.0.0.1</span>:<span class="cwd">~</span><span class="prompt">$</span> <span class="cursor">_</span></a></span></div></header><main id="single" role="main"><div class="post-title-wrapper"><div style="display: flex"><div style="flex: 1"><div class="post-category"><a href="/category/localhost">/localhost/</a></div></div><div class="post-date">Sep 13, 2013</div></div><h1>Listen tracks from youtube in mpd</h1><div style="display: flex"><div style="flex: 1"><div class="post-tags-list"><a href="/tags/mpd">#mpd</a>&nbsp;</div></div></div></div><article><div class="paragraph"><p>We&#8217;ll need</p></div><div class="ulist"><ul><li><p><em>mpd</em> with <em>curl</em> support</p></li><li><p><a href="http://rg3.github.io/youtube-dl/">youtube-dl</a></p></li></ul></div><div id="cut" class="paragraph"><p>For example, we may want to listen to some <a href="http://www.youtube.com/watch?v=HS5fHWmzqIg">vocal trance</a> on youtube.</p></div><div class="paragraph"><p>First we use <em>youtube-dl</em> to determine what formats are available</p></div><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-ruby" data-lang="ruby">$ youtube-dl -f http://www.youtube.com/watch?v=HS5fHWmzqIg
[youtube] Setting language
[youtube] HS5fHWmzqIg: Downloading video webpage
[youtube] HS5fHWmzqIg: Downloading video info webpage
[youtube] HS5fHWmzqIg: Extracting video information
Available formats:
22      :       mp4     [720x1280]
18      :       mp4     [360x640]
43      :       webm    [360x640]
5       :       flv     [240x400]
36      :       3gp     [240x320]
17      :       3gp     [144x176]
136     :       mp4     [720p] (DASH Video)
135     :       mp4     [480p] (DASH Video)
134     :       mp4     [360p] (DASH Video)
133     :       mp4     [240p] (DASH Video)
160     :       mp4     [192p] (DASH Video)
141     :       m4a     [256k] (DASH Audio)
172     :       webm    [256k] (DASH Audio)
140     :       m4a     [128k] (DASH Audio)
171     :       webm    [128k] (DASH Audio)
139     :       m4a     [48k] (DASH Audio)</code></pre></div></div><div class="paragraph"><p>There are 5 audio formats for this video, the one with id <code>141</code> has the highest bitrate. All that is left is to get the real URL for this format and feed it to mpd</p></div><div class="listingblock"><div class="content"><pre class="highlight"><code>$ mpc add `youtube-dl -f141 -g http://www.youtube.com/watch?v=HS5fHWmzqIg`</code></pre></div></div><div class="paragraph"><p>That&#8217;s all, track from youtube is now in mpd queue. Enjoy!</p></div></article></main><article class="comments"><div id="disqus_thread"></div><script>if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) !== -1) {
          document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
        } else {
          var disqus_config = function () {
              
          };
          (function() {
              var inIFrame = function() {
                  var iframe = true;
                  try { iframe = window.self !== window.top; } catch (e) {}
                  return iframe;
              };
              if (inIFrame()) return;
              var disqus_js = '//127001me.disqus.com/embed.js';
              var d = document, s = d.createElement('script');
              s.src = disqus_js; s.async = true;
              s.setAttribute('data-timestamp', +new Date());
              var b = false, l = function() {
                  if (b) return;
                  (d.head || d.body).appendChild(s); b = true;
              }
              var t = d.getElementById('disqus_thread');
              s.onerror = function(e) {
                  if (sessionStorage.getItem('failure-note')) return;
                  t.innerText = 'Disqus failed to load';
                  t.style.border = '1px dashed';
                  t.style.padding = '.5em';
                  t.style.background = 'lightyellow';
                  sessionStorage.setItem('failure-note', true);
              };
              
              if (location.hash.match(/^#comment/)) return l();
              var c = function() {
                  if (b) return;
                  var rect = t.getBoundingClientRect();
                  if (rect.top < window.innerHeight && rect.bottom >= 0) l();
              };
              window.addEventListener('load', c);
              d.addEventListener('scroll', c);
          })();
        }</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></article><footer role="contentinfo"><div class="footer-content"><div class="footer-copyright-info">Â© 2019 Dmytro Kostiuchenko</div><div class="footer-social-buttons"><a href="https://github.com/edio" title="GitHub"><i class="fa fa-github"></i></a> <a href="https://ua.linkedin.com/in/dmytro-kostiuchenko-7b046b14" title="Linkedin"><i class="fa fa-linkedin-square"></i></a></div></div></footer></div><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></html>